{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///Users/aniketsingh/Desktop/Astroshala/frontend/src/app/admin/layout.tsx"],"sourcesContent":["\"use client\"\r\nimport type React from \"react\"\r\nimport { useState, useEffect } from \"react\"\r\nimport Link from \"next/link\"\r\nimport { usePathname } from \"next/navigation\"\r\nimport { deleteCookie } from \"cookies-next\"\r\nimport { Star, LogOut, User, MessageSquare, Info, Settings, Menu, X, ChevronRight } from \"lucide-react\"\r\n\r\nexport default function AdminLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode\r\n}) {\r\n  const [userName, setUserName] = useState(\"\")\r\n  const [userEmail, setUserEmail] = useState(\"\")\r\n  const [sidebarOpen, setSidebarOpen] = useState(true)\r\n  const [isMobile, setIsMobile] = useState(false)\r\n  const pathname = usePathname()\r\n\r\n  useEffect(() => {\r\n    // Check if user is authenticated\r\n    const token = localStorage.getItem(\"token\")\r\n    if (!token) {\r\n      window.location.href = \"/auth/login\"\r\n      return\r\n    }\r\n\r\n    // Get user info\r\n    const name = localStorage.getItem(\"user_name\") || \"User\"\r\n    const email = localStorage.getItem(\"user_email\") || \"\"\r\n    setUserName(name)\r\n    setUserEmail(email)\r\n\r\n    // Check if on mobile\r\n    const checkMobile = () => {\r\n      setIsMobile(window.innerWidth < 1024)\r\n      if (window.innerWidth < 1024) {\r\n        setSidebarOpen(false)\r\n      }\r\n    }\r\n\r\n    checkMobile()\r\n    window.addEventListener(\"resize\", checkMobile)\r\n    return () => window.removeEventListener(\"resize\", checkMobile)\r\n  }, [])\r\n\r\n  const handleLogout = () => {\r\n    // Clear localStorage\r\n    localStorage.clear()\r\n\r\n    // Clear the auth cookie\r\n    deleteCookie(\"token\")\r\n\r\n    // Redirect to login\r\n    window.location.href = \"/auth/login\"\r\n  }\r\n\r\n  const navItems = [\r\n    { path: \"/admin/chat\", label: \"Chat\", icon: <MessageSquare size={20} /> },\r\n    { path: \"/admin/about\", label: \"About\", icon: <Info size={20} /> },\r\n    { path: \"/admin/profile\", label: \"Profile\", icon: <User size={20} /> },\r\n    { path: \"/admin/settings\", label: \"Settings\", icon: <Settings size={20} /> },\r\n  ]\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col\">\r\n      {/* Header */}\r\n      <header className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-3 px-4 lg:px-6 fixed top-0 left-0 right-0 z-30\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <div className=\"flex items-center\">\r\n            <button\r\n              className=\"lg:hidden mr-2 text-gray-500 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400\"\r\n              onClick={() => setSidebarOpen(!sidebarOpen)}\r\n            >\r\n              {sidebarOpen ? <X size={24} /> : <Menu size={24} />}\r\n            </button>\r\n            <div className=\"flex items-center\">\r\n              <Star className=\"h-7 w-7 text-purple-600 dark:text-purple-400 mr-2\" />\r\n              <h1 className=\"text-xl font-bold text-gray-800 dark:text-white hidden sm:block\">Parasara Jyotish</h1>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"hidden md:flex flex-col items-end\">\r\n              <span className=\"font-medium text-sm text-gray-900 dark:text-gray-100\">{userName}</span>\r\n              <span className=\"text-xs text-gray-500 dark:text-gray-400\">{userEmail}</span>\r\n            </div>\r\n            <div className=\"bg-purple-100 dark:bg-purple-900/50 rounded-full p-2\">\r\n              <User className=\"h-5 w-5 text-purple-600 dark:text-purple-400\" />\r\n            </div>\r\n            <button\r\n              onClick={handleLogout}\r\n              className=\"text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 bg-gray-100 dark:bg-gray-700 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-full p-2 transition-colors\"\r\n              title=\"Logout\"\r\n            >\r\n              <LogOut size={20} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Layout - Fixed the gap issue */}\r\n      <div className=\"flex pt-16 flex-1\">\r\n        {/* Sidebar - Fixed width */}\r\n        <aside\r\n          className={`${\r\n            sidebarOpen ? \"translate-x-0\" : \"-translate-x-full lg:translate-x-0\"\r\n          } fixed lg:static top-16 bottom-0 left-0 w-64 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 z-20 transition-transform duration-300 ease-in-out`}\r\n        >\r\n          <nav className=\"p-4 space-y-1\">\r\n            {navItems.map((item) => (\r\n              <Link\r\n                key={item.path}\r\n                href={item.path}\r\n                className={`flex items-center px-4 py-3 rounded-lg transition-colors ${\r\n                  pathname === item.path\r\n                    ? \"bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300\"\r\n                    : \"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-purple-600 dark:hover:text-purple-400\"\r\n                }`}\r\n              >\r\n                {item.icon}\r\n                <span className=\"ml-3\">{item.label}</span>\r\n                {pathname === item.path && <ChevronRight className=\"ml-auto h-4 w-4\" />}\r\n              </Link>\r\n            ))}\r\n          </nav>\r\n\r\n          <div className=\"absolute bottom-0 left-0 right-0 p-4\">\r\n            <div className=\"bg-purple-50 dark:bg-purple-900/50 rounded-lg p-4\">\r\n              <h3 className=\"text-sm font-semibold text-purple-700 dark:text-purple-300 mb-1\">Vedic Insight</h3>\r\n              <p className=\"text-xs text-gray-600 dark:text-gray-300\">\r\n                \"The planetary positions at birth reflect one's karma, actions, and possibilities.\"\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Main Content - Takes remaining space without gap */}\r\n        <main className=\"flex-1 p-4 lg:p-6 overflow-auto\">{children}</main>\r\n      </div>\r\n\r\n      {/* Overlay for mobile sidebar */}\r\n      {sidebarOpen && isMobile && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-10\" onClick={() => setSidebarOpen(false)}></div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}